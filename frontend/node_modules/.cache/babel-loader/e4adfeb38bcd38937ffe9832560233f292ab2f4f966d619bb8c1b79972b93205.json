{"ast":null,"code":"import React,{useState}from'react';import{useQuery}from'@tanstack/react-query';import{emailApi}from'../services/api';import EmailList from'../components/EmailList';import FilterBar from'../components/FilterBar';import NewEmailButton from'../components/NewEmailButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmailListPage=()=>{const[filters,setFilters]=useState({status:'',intent:'',priority:'',team:'',user:''});const{data:emails,isLoading,error}=useQuery({queryKey:['emails',filters],queryFn:()=>emailApi.getAllEmails(filters)});const handleFilterChange=newFilters=>{setFilters(newFilters);};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:\"Error loading emails. Please try again.\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Email Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"View and manage all incoming emails\"})]}),/*#__PURE__*/_jsx(NewEmailButton,{})]}),/*#__PURE__*/_jsx(FilterBar,{filters:filters,onFilterChange:handleFilterChange}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:[\"Emails (\",(emails===null||emails===void 0?void 0:emails.length)||0,\")\"]})}),/*#__PURE__*/_jsx(EmailList,{emails:emails||[]})]})})]});};export default EmailListPage;","map":{"version":3,"names":["React","useState","useQuery","emailApi","EmailList","FilterBar","NewEmailButton","jsx","_jsx","jsxs","_jsxs","EmailListPage","filters","setFilters","status","intent","priority","team","user","data","emails","isLoading","error","queryKey","queryFn","getAllEmails","handleFilterChange","newFilters","className","children","onFilterChange","length"],"sources":["C:/vinay/projects/Email/frontend/src/pages/EmailList.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { emailApi } from '../services/api';\r\n\r\nimport EmailList from '../components/EmailList';\r\nimport FilterBar from '../components/FilterBar';\r\nimport NewEmailButton from '../components/NewEmailButton';\r\n\r\nconst EmailListPage: React.FC = () => {\r\n  const [filters, setFilters] = useState({\r\n    status: '',\r\n    intent: '',\r\n    priority: '',\r\n    team: '',\r\n    user: '',\r\n  });\r\n\r\n  const { data: emails, isLoading, error } = useQuery({\r\n    queryKey: ['emails', filters],\r\n    queryFn: () => emailApi.getAllEmails(filters),\r\n  });\r\n\r\n  const handleFilterChange = (newFilters: typeof filters) => {\r\n    setFilters(newFilters);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"spinner\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center py-8\">\r\n        <p className=\"text-red-500\">Error loading emails. Please try again.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Page header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Email Management</h1>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            View and manage all incoming emails\r\n          </p>\r\n        </div>\r\n        <NewEmailButton />\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <FilterBar filters={filters} onFilterChange={handleFilterChange} />\r\n\r\n      {/* Email list */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"px-4 py-5 sm:p-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">\r\n              Emails ({emails?.length || 0})\r\n            </h3>\r\n          </div>\r\n          <EmailList emails={emails || []} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmailListPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,QAAQ,KAAQ,uBAAuB,CAChD,OAASC,QAAQ,KAAQ,iBAAiB,CAE1C,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,KAAM,CAAAC,aAAuB,CAAGA,CAAA,GAAM,CACpC,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,CACrCa,MAAM,CAAE,EAAE,CACVC,MAAM,CAAE,EAAE,CACVC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAE,EAAE,CACRC,IAAI,CAAE,EACR,CAAC,CAAC,CAEF,KAAM,CAAEC,IAAI,CAAEC,MAAM,CAAEC,SAAS,CAAEC,KAAM,CAAC,CAAGpB,QAAQ,CAAC,CAClDqB,QAAQ,CAAE,CAAC,QAAQ,CAAEX,OAAO,CAAC,CAC7BY,OAAO,CAAEA,CAAA,GAAMrB,QAAQ,CAACsB,YAAY,CAACb,OAAO,CAC9C,CAAC,CAAC,CAEF,KAAM,CAAAc,kBAAkB,CAAIC,UAA0B,EAAK,CACzDd,UAAU,CAACc,UAAU,CAAC,CACxB,CAAC,CAED,GAAIN,SAAS,CAAE,CACb,mBACEb,IAAA,QAAKoB,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDrB,IAAA,QAAKoB,SAAS,CAAC,SAAS,CAAM,CAAC,CAC5B,CAAC,CAEV,CAEA,GAAIN,KAAK,CAAE,CACT,mBACEd,IAAA,QAAKoB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BrB,IAAA,MAAGoB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,yCAAuC,CAAG,CAAC,CACpE,CAAC,CAEV,CAEA,mBACEnB,KAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBnB,KAAA,QAAKkB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDnB,KAAA,QAAAmB,QAAA,eACErB,IAAA,OAAIoB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACtErB,IAAA,MAAGoB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,qCAE1C,CAAG,CAAC,EACD,CAAC,cACNrB,IAAA,CAACF,cAAc,GAAE,CAAC,EACf,CAAC,cAGNE,IAAA,CAACH,SAAS,EAACO,OAAO,CAAEA,OAAQ,CAACkB,cAAc,CAAEJ,kBAAmB,CAAE,CAAC,cAGnElB,IAAA,QAAKoB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzCnB,KAAA,QAAKkB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BrB,IAAA,QAAKoB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrDnB,KAAA,OAAIkB,SAAS,CAAC,mCAAmC,CAAAC,QAAA,EAAC,UACxC,CAAC,CAAAT,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEW,MAAM,GAAI,CAAC,CAAC,GAC/B,EAAI,CAAC,CACF,CAAC,cACNvB,IAAA,CAACJ,SAAS,EAACgB,MAAM,CAAEA,MAAM,EAAI,EAAG,CAAE,CAAC,EAChC,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAT,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}